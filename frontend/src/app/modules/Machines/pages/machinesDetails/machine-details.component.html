<page-heading>
    <div class="container">
        <br>
        Eszközök - részletek
        <button (click)="navigate()" style="float: right;" type="button" class="btn btn-primary">Vissza</button>
        <hr>
    </div>
</page-heading>

<div class="container">

<button type="button" class="add-button btn btn-primary" [routerLink]="['/machines/add', id]">
    <i class="fa fa-plus" aria-hidden="true"></i> Eszköz felvétele
</button>
<hr>

<div class="mat-elevation-z8">
      <table mat-table [dataSource]="dataSource" matSort>
        <!-- Name -->
        <ng-container matColumnDef="name">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> Név </th>
          <td mat-cell *matCellDef="let machines"> {{machines.name}} </td>
        </ng-container>
    
        <!-- Line -->
        <ng-container matColumnDef="line">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> Sor </th>
          <td mat-cell *matCellDef="let machine of machines"> {{machine.line}} </td>
        </ng-container>

        <!-- Faults -->
        <ng-container matColumnDef="count">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> Hibák száma </th>
          <td mat-cell *matCellDef="let machine of machines"> {{machine.faultsCount}} </td>
        </ng-container>

        <!-- Status -->
        <ng-container matColumnDef="status">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> Státusz </th>
          <td mat-cell *matCellDef="let machine of machines"> {{machine.status}} </td>
        </ng-container>

        <!-- Email -->
        <ng-container matColumnDef="mail">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> Email </th>
          <td mat-cell *matCellDef="let machine of machines"> {{machine.mail}} </td>
        </ng-container>
    
        <!-- Szerkesztés -->
        <ng-container matColumnDef="edit">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> Szerkesztés </th>
          <td mat-cell *matCellDef="let machine of machines"> 
            <button style="width: 30px; height: 30px; padding: 0px;" type="button" class="modify btn btn-danger" (click)="delete(machine)">
                <i style="size: 10px;" class="fa fa-trash" aria-hidden="true"></i>
            </button>
            <button [routerLink]="['/machines/details/edit', machine.id]" style="width: 30px; height: 30px; padding: 0px;" type="button" class="modify btn btn-warning">
              <i style="size: 10px;" class="fa fa-pencil" aria-hidden="true"></i>
            </button>
          </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;">
        </tr>
      </table>  
    <mat-paginator [length]="resultsLength" [pageSize]="30"></mat-paginator>
  </div>
</div>
